# Fichier : app/static/content/emails.yml

# ===== M√âTADONN√âES =====
metadata:
  name: "Configuration emails congr√®s"
  version: "1.0"
  last_updated: "2024-01-15"
  note: "Utilise les variables de conference.yml automatiquement"

# ===== SUJETS DES EMAILS =====
# Les variables {CONFERENCE_*} seront automatiquement remplac√©es par 
# les valeurs de conference.yml via le syst√®me de configuration
templates:
  subjects:
    # Utilisateurs
    welcome: "Bienvenue au {CONFERENCE_NAME}"
    activation: "Activez votre compte {CONFERENCE_SHORT_NAME}"
    password_reset: "R√©initialisation de votre mot de passe - {CONFERENCE_SHORT_NAME}"
    
    # Soumissions
    submission_received: "Communication re√ßue - {CONFERENCE_SHORT_NAME}"
    submission_confirmed: "Confirmation de soumission - {CONFERENCE_SHORT_NAME}"
    submission_updated: "Mise √† jour de votre communication - {CONFERENCE_SHORT_NAME}"
    
    # Reviews
    review_assigned: "Nouvelle review assign√©e - {CONFERENCE_SHORT_NAME}"
    review_reminder: "Rappel : Reviews en attente - {CONFERENCE_SHORT_NAME}"
    reviewer_welcome: "Bienvenue comme reviewer - {CONFERENCE_SHORT_NAME}"
    
    # D√©cisions
    decision_notification: "D√©cision sur votre communication - {CONFERENCE_SHORT_NAME}"
    decision_accept: "F√©licitations ! Communication accept√©e - {CONFERENCE_SHORT_NAME}"
    decision_reject: "D√©cision sur votre communication - {CONFERENCE_SHORT_NAME}"
    decision_revise: "R√©visions demand√©es - {CONFERENCE_SHORT_NAME}"
    
    # Co-auteurs
    coauthor_invitation: "Invitation comme co-auteur - {CONFERENCE_SHORT_NAME}"
    coauthor_notification: "Nouvelle communication ajout√©e - {CONFERENCE_SHORT_NAME}"
    
    # Prix et distinctions
    biot_fourier_nomination: "Nomination au Prix Biot-Fourier - {CONFERENCE_SHORT_NAME}"
    biot_fourier_winner: "Laur√©at du Prix Biot-Fourier - {CONFERENCE_SHORT_NAME}"
    
    # Admin
    admin_weekly_summary: "R√©sum√© hebdomadaire - Reviews {CONFERENCE_SHORT_NAME}"
    admin_alert: "Alerte syst√®me - {CONFERENCE_SHORT_NAME}"
    
    # QR Codes et posters
    qr_code_ready: "QR Code de votre poster - {CONFERENCE_SHORT_NAME}"
    poster_reminder: "Rappel : Soumission de votre poster - {CONFERENCE_SHORT_NAME}"
    
    # Inscription
    registration_confirmed: "Inscription confirm√©e - {CONFERENCE_SHORT_NAME}"
    payment_reminder: "Rappel de paiement - {CONFERENCE_SHORT_NAME}"

# ===== CORPS DES EMAILS =====
content:
  # Email de bienvenue
  welcome:
    greeting: "Bonjour {USER_FIRST_NAME},"
    intro: "Bienvenue au {CONFERENCE_NAME} !"
    body: |
      Votre compte a √©t√© cr√©√© avec succ√®s pour le {CONFERENCE_NAME}.
      
      Vous pouvez d√®s maintenant vous connecter et commencer √† soumettre vos communications.
      
      üìÖ Dates : {CONFERENCE_DATES}
      üìç Lieu : {CONFERENCE_LOCATION}
    
  # Email d'activation
  activation:
    greeting: "Bonjour {USER_FIRST_NAME},"
    intro: "Votre compte pour le {CONFERENCE_NAME} est presque pr√™t !"
    body: |
      Pour terminer la cr√©ation de votre compte, cliquez sur le lien d'activation ci-dessous.
      Ce lien est valable 7 jours.
      
      üìß Email : {USER_EMAIL}
      üë§ R√¥le : {USER_ROLE}
    call_to_action: "Activer mon compte"
    
  # Email de co-auteur
  coauthor_notification:
    greeting: "Bonjour {USER_FIRST_NAME},"
    intro: "Vous avez √©t√© ajout√©(e) comme co-auteur d'une communication"
    body: |
      Une nouvelle communication a √©t√© soumise pour le {CONFERENCE_NAME} avec vous comme  co-auteur(rice).
      
      üìù Titre : {COMMUNICATION_TITLE}
      üìã Type : {COMMUNICATION_TYPE}
      üë§ Auteur principal : {MAIN_AUTHOR_NAME}
      üÜî ID : {COMMUNICATION_ID}
      
      Vous pouvez consulter les d√©tails en vous connectant √† votre compte.
    call_to_action: "Consulter la communication"
    
  # Email de review assign√©e
  review_assigned:
    greeting: "Bonjour {REVIEWER_NAME},"
    intro: "Nouvelle review assign√©e pour {CONFERENCE_NAME}"
    body: |
      Vous avez √©t√© assign√©(e) √† {REVIEWS_COUNT} nouvelle(s) review(s).
      
      üéØ Vos sp√©cialit√©s : {REVIEWER_SPECIALTIES}
      ‚è∞ √âch√©ance : {REVIEW_DEADLINE}
      
      Consultez votre tableau de bord pour commencer vos √©valuations.
    call_to_action: "Acc√©der au tableau de bord"
    
  # Email de rappel review
  review_reminder:
    greeting: "Bonjour {REVIEWER_NAME},"
    intro: "Rappel : {PENDING_REVIEWS_COUNT} review(s) en attente"
    body: |
      Vous avez {PENDING_REVIEWS_COUNT} review(s) en attente pour le {CONFERENCE_NAME}.
      {OVERDUE_MESSAGE}
      
      Merci de compl√©ter vos √©valuations dans les meilleurs d√©lais.
    call_to_action: "Voir mes reviews"
    
  # Email de d√©cision
  decision_notification:
    greeting: "Bonjour {AUTHOR_NAME},"
    intro: "D√©cision concernant votre communication"
    body: |
      La d√©cision concernant votre communication pour le {CONFERENCE_NAME} est disponible.
      
      üìù Communication : {COMMUNICATION_TITLE}
      üìã D√©cision : {DECISION_STATUS}
      üìÖ Date de d√©cision : {DECISION_DATE}
      
      {DECISION_DETAILS}
    call_to_action: "Consulter les d√©tails"

# ===== SIGNATURES =====
signatures:
  default: |
    Cordialement,
    L'√©quipe d'organisation {CONFERENCE_SHORT_NAME}
    {CONTACT_EMAIL}
    
  scientific: |
    Cordialement,
    Le Comit√© Scientifique {CONFERENCE_SHORT_NAME}
    {SCIENTIFIC_EMAIL}
    
  technical: |
    Cordialement,
    L'√©quipe technique {CONFERENCE_SHORT_NAME}
    {TECHNICAL_EMAIL}
    
  registration: |
    Cordialement,
    Service inscription {CONFERENCE_SHORT_NAME}
    {REGISTRATION_EMAIL}
    
  system: |
    Cet email a √©t√© envoy√© automatiquement.
    {CONFERENCE_NAME} - {CONFERENCE_LOCATION}

# ===== TEMPLATES PR√âD√âFINIS =====
predefined_templates:
  # Pour l'interface admin
  information_generale:
    subject: "Information importante - {CONFERENCE_SHORT_NAME}"
    content: |
      Bonjour [PRENOM] [NOM],
      
      Nous vous informons que...
      
      [Votre message ici]
      
      üìù Communication concern√©e : {COMMUNICATION_TITLE} (ID: {COMMUNICATION_ID})
      
      Pour toute question, n'h√©sitez pas √† nous contacter.
      
      Cordialement,
      L'√©quipe d'organisation {CONFERENCE_SHORT_NAME}
      
  rappel_review:
    subject: "Rappel urgent - Review en attente - {CONFERENCE_SHORT_NAME}"
    content: |
      Bonjour [PRENOM] [NOM],
      
      Nous vous rappelons que vous avez une review en attente pour la communication suivante :
      
      üìù Titre : {COMMUNICATION_TITLE}
      üÜî ID : {COMMUNICATION_ID}
      ‚è∞ √âch√©ance : {REVIEW_DEADLINE}
      
      Merci de compl√©ter votre √©valuation dans les meilleurs d√©lais.
      
      [Lien vers la review]
      
      Cordialement,
      Le Comit√© Scientifique {CONFERENCE_SHORT_NAME}
      
  decision_accept:
    subject: "F√©licitations ! Communication accept√©e - {CONFERENCE_SHORT_NAME}"
    content: |
      Bonjour [PRENOM] [NOM],
      
      Nous avons le plaisir de vous informer que votre communication a √©t√© accept√©e pour le {CONFERENCE_NAME} !
      
      üìù Communication : {COMMUNICATION_TITLE}
      üìã Type : {COMMUNICATION_TYPE}
      ‚úÖ Statut : Accept√©e
      
      Prochaines √©tapes :
      - Pr√©parer votre pr√©sentation/poster
      - Vous inscrire au congr√®s si ce n'est pas d√©j√† fait
      - Finaliser votre article (si applicable)
      
      Toutes nos f√©licitations !
      
      Cordialement,
      Le Comit√© Scientifique {CONFERENCE_SHORT_NAME}

# ===== CONFIGURATION =====
settings:
  # Variables automatiquement extraites de conference.yml
  auto_variables:
    CONFERENCE_NAME: "conference.name"                    # "34√®me Congr√®s Fran√ßais de Thermique"
    CONFERENCE_SHORT_NAME: "conference.short_name"        # "SFT 2026"
    CONFERENCE_YEAR: "conference.year"                    # 2026
    CONFERENCE_THEME: "conference.theme"                  # "Thermique & D√©carbonation de l'industrie"
    CONFERENCE_DATES: "dates.submission.final"           # Dates du congr√®s
    CONFERENCE_LOCATION: "location.city"                 # Lieu du congr√®s
    CONTACT_EMAIL: "contacts.general.email"              # Email g√©n√©ral
    SCIENTIFIC_EMAIL: "contacts.submissions.email"       # Email scientifique
    ORGANIZATION_NAME: "conference.organizer.name"       # "Soci√©t√© Fran√ßaise de Thermique"
    
  # Format des emails
  format:
    line_length: 80
    use_html: true
    include_unsubscribe: false
    track_opens: false
    
  # Gestion des erreurs
  error_handling:
    missing_variable_action: "use_placeholder"  # ou "raise_error"
    placeholder_format: "[{variable_name}]"
    log_missing_variables: true
